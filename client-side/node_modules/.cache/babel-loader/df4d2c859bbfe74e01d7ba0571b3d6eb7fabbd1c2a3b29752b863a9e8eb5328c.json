{"ast":null,"code":"var _jsxFileName = \"H:\\\\My prac\\\\ostad project 2\\\\client-side\\\\src\\\\Components\\\\Read\\\\ListTable.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Delete, Read } from '../../APIServices/CRUDServices';\nimport { errorToast, successToast } from '../../Helper/ValidationHelper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ListTable extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchData = () => {\n      Read().then(result => {\n        this.setState({\n          dataList: result\n        });\n      }).catch(error => {\n        console.error('Error fetching data:', error);\n      });\n    };\n    this.deleteItem = id => {\n      Delete(id).then(result => {\n        if (result === true) {\n          successToast('Delete success');\n          // Refresh data after successful delete\n          this.fetchData();\n        } else {\n          errorToast('Delete fail');\n        }\n      }).catch(error => {\n        console.error('Error deleting item:', error);\n        errorToast('Delete error');\n      });\n    };\n    this.updateItem = id => {\n      // Redirect to update page with the ID\n      this.props.history.push(`/update/${id}`);\n    };\n    this.state = {\n      dataList: []\n    };\n  }\n  componentDidMount() {\n    this.fetchData();\n  }\n  render() {\n    const {\n      dataList\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        border: 2,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Product Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Product Code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Unit Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: Array.isArray(dataList) && dataList.length > 0 ? dataList.map((item, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.ProductName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.ProductCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"list-img\",\n                src: item.Img,\n                width: 50,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.UnitPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.Qty\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.TotalPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => this.deleteItem(item._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => this.updateItem(item._id),\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 37\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 33\n          }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"7\",\n              children: \"No data available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default _c = withRouter(ListTable);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","withRouter","Delete","Read","errorToast","successToast","jsxDEV","_jsxDEV","ListTable","constructor","props","fetchData","then","result","setState","dataList","catch","error","console","deleteItem","id","updateItem","history","push","state","componentDidMount","render","children","className","border","fileName","_jsxFileName","lineNumber","columnNumber","Array","isArray","length","map","item","i","ProductName","ProductCode","src","Img","width","alt","UnitPrice","Qty","TotalPrice","onClick","_id","colSpan","_c","$RefreshReg$"],"sources":["H:/My prac/ostad project 2/client-side/src/Components/Read/ListTable.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Delete, Read } from '../../APIServices/CRUDServices';\r\nimport { errorToast, successToast } from '../../Helper/ValidationHelper';\r\n\r\nclass ListTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dataList: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = () => {\r\n        Read()\r\n            .then((result) => {\r\n                this.setState({ dataList: result });\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error fetching data:', error);\r\n            });\r\n    };\r\n\r\n    deleteItem = (id) => {\r\n        Delete(id)\r\n            .then((result) => {\r\n                if (result === true) {\r\n                    successToast('Delete success');\r\n                    // Refresh data after successful delete\r\n                    this.fetchData();\r\n                } else {\r\n                    errorToast('Delete fail');\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error deleting item:', error);\r\n                errorToast('Delete error');\r\n            });\r\n    };\r\n\r\n    updateItem = (id) => {\r\n        // Redirect to update page with the ID\r\n        this.props.history.push(`/update/${id}`);\r\n    };\r\n\r\n    render() {\r\n        const { dataList } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <table className='table' border={2}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Product Name</th>\r\n                            <th>Product Code</th>\r\n                            <th>Image</th>\r\n                            <th>Unit Price</th>\r\n                            <th>Qty</th>\r\n                            <th>Total Price</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {Array.isArray(dataList) && dataList.length > 0 ? (\r\n                            dataList.map((item, i) => (\r\n                                <tr key={i}>\r\n                                    <td>{item.ProductName}</td>\r\n                                    <td>{item.ProductCode}</td>\r\n                                    <td>\r\n                                        <img className='list-img' src={item.Img} width={50} alt='' />\r\n                                    </td>\r\n                                    <td>{item.UnitPrice}</td>\r\n                                    <td>{item.Qty}</td>\r\n                                    <td>{item.TotalPrice}</td>\r\n                                    <td>\r\n                                        <button onClick={() => this.deleteItem(item._id)}>Delete</button>\r\n                                    </td>\r\n                                    <td>\r\n                                        <button onClick={() => this.updateItem(item._id)}>Update</button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                        ) : (\r\n                            <tr>\r\n                                <td colSpan='7'>No data available</td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(ListTable);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}